<!DOCTYPE html>
<html>

	<head>
		<title>Test_project</title>
	 <style>
			/* body { margin : 0; max-width: 100%; max-height: 100%; margin: 0;} */
			/* canvas {width: 100%; height: 100%; max-width: 100%; max-height: 100%; margin: 0;} */
		</style>
		<link rel="stylesheet" href="./reveal.js-master/dist/reveal.css">
		<link rel="stylesheet" href="./reveal.js-master/dist/theme/black.css">
	</head>

	<body>
		
		<div class="reveal">
			<div class="slides" id="slides">
				<section id="CatmullClark">Catmull Clark <div id="CatmullClark_div"></div></section>
				<section id="Doo-Sabin">Doo-Sabin <div id="Doo-Sabin_div"></div></section>	
				<section id="Sqrt 3">Sqrt 3 <div id="Sqrt 3_div"></div></section>
				<section id="Sqrt 2">Sqrt 2 <div id="Sqrt 2_div"></div></section>
				<section id="Loop">Loop <div id="Loop_div"></div></section>
				<section id="Butterfly">Butterfly <div id="Butterfly_div"></div></section>
			</div>
		</div>

		<script type="module">
			import Reveal from './reveal.js-master/dist/reveal.esm.js'
			import {CMap0} from './CMapJS/CMap/CMap.js';
			import Renderer from './CMapJS/Renderer.js';
			import * as THREE from './CMapJS/three.module.js';
			import {OrbitControls} from './CMapJS/OrbitsControls.js';
			import {Slide} from './Slide.js';
			import {load_cmap2} from './CMapJS/IO/Surface_Formats/CMap2_IO.js' 
			import {tetrahedron_off, icosahedron_off, cube_off, octahedron_off, cactus_off, fertility_off, metatron_off} from './off_files.js';

			import {cc_slide, ds_slide, sqrt2_slide, sqrt3_slide, loop_slide, butterfly_slide} from './slides.js';

			let slides = new Array();
			slides["CatmullClark"] = cc_slide;
			slides["Doo-Sabin"] = ds_slide;
			slides["Sqrt 3"] = sqrt3_slide;
			slides["Sqrt 2"] = sqrt2_slide;
			slides["Loop"] = loop_slide;
			slides["Butterfly"] = butterfly_slide;

			let active_slide;
			Reveal.addEventListener('slidechanged', function(event) {
				if(active_slide) active_slide.close();
				var sectionID = Reveal.getCurrentSlide().id;
				active_slide = slides[sectionID]
				if(active_slide) active_slide.open();
			});

			Reveal.initialize().then(() => {
				let slide_domE = document.getElementById("slides");
				let w = slide_domE.clientWidth;
				let h = slide_domE.clientHeight;
				slides["CatmullClark"].init(document.getElementById("CatmullClark_div"), w, h);
				slides["Doo-Sabin"].init(document.getElementById("Doo-Sabin_div"), w, h);
				slides["Sqrt 3"].init(document.getElementById("Sqrt 3_div"), w, h);
				slides["Sqrt 2"].init(document.getElementById("Sqrt 2_div"), w, h);
				slides["Loop"].init(document.getElementById("Loop_div"), w, h);
				slides["Butterfly"].init(document.getElementById("Butterfly_div"), w, h);

				active_slide = slides["CatmullClark"];
				active_slide.open();
			});
			
		</script>
	</body>

</html>